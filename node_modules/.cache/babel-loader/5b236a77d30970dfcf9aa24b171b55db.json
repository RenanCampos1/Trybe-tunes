{"ast":null,"code":"var _jsxFileName = \"/home/renanc/Projetos/Trybe-tunes/src/pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport { createUser } from '../services/userAPI';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor() {\n    super();\n\n    this.checkUserName = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        type\n      } = target;\n      const value = type === 'checkbox' ? target.checked : target.value;\n      this.setState({\n        [name]: value\n      }, () => {\n        const {\n          userInputName\n        } = this.state;\n        const minAtrr = 3;\n\n        if (userInputName.length >= minAtrr) {\n          this.setState({\n            isSaveButtonDisabled: false\n          });\n        } else {\n          this.setState({\n            isSaveButtonDisabled: true\n          });\n        }\n      });\n    };\n\n    this.handleClick = () => {\n      this.setState({\n        saveUserInit: true\n      }, async () => {\n        const {\n          userInputName\n        } = this.state;\n        await createUser({\n          name: userInputName\n        });\n        this.setState({\n          saveUserEnd: false,\n          redirectSearch: true\n        });\n      });\n    };\n\n    this.state = {\n      userInputName: '',\n      isSaveButtonDisabled: true,\n      saveUserInit: false,\n      saveUserEnd: true,\n      redirectSearch: false\n    };\n  }\n\n  render() {\n    const {\n      userInputName,\n      isSaveButtonDisabled,\n      saveUserInit,\n      saveUserEnd,\n      redirectSearch\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginCont\",\n      \"data-testid\": \"page-login\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"login-name-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputName\",\n          type: \"text\",\n          \"data-testid\": \"login-name-input\",\n          id: \"login-name-input\",\n          value: userInputName,\n          name: \"userInputName\",\n          onChange: this.checkUserName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        disabled: isSaveButtonDisabled,\n        id: \"loginbutton\",\n        \"data-testid\": \"login-submit-button\",\n        onClick: this.handleClick,\n        children: \"Entrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), saveUserInit && saveUserEnd && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 42\n      }, this), redirectSearch && /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","Redirect","Loading","createUser","Login","constructor","checkUserName","target","name","type","value","checked","setState","userInputName","state","minAtrr","length","isSaveButtonDisabled","handleClick","saveUserInit","saveUserEnd","redirectSearch","render"],"sources":["/home/renanc/Projetos/Trybe-tunes/src/pages/Login.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport { createUser } from '../services/userAPI';\nimport './Login.css';\n\nexport default class Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      userInputName: '',\n      isSaveButtonDisabled: true,\n      saveUserInit: false,\n      saveUserEnd: true,\n      redirectSearch: false,\n    };\n  }\n\n  checkUserName = ({ target }) => {\n    const { name, type } = target;\n    const value = type === 'checkbox' ? target.checked : target.value;\n    this.setState({\n      [name]: value,\n    }, () => {\n      const {\n        userInputName } = this.state;\n      const minAtrr = 3;\n      if (\n        userInputName.length >= minAtrr) {\n        this.setState({\n          isSaveButtonDisabled: false,\n        });\n      } else {\n        this.setState({\n          isSaveButtonDisabled: true,\n        });\n      }\n    });\n  };\n\n  handleClick = () => {\n    this.setState({\n      saveUserInit: true,\n    }, async () => {\n      const { userInputName } = this.state;\n      await createUser({ name: userInputName });\n      this.setState({\n        saveUserEnd: false,\n        redirectSearch: true,\n      });\n    });\n  };\n\n  render() {\n    const {\n      userInputName,\n      isSaveButtonDisabled,\n      saveUserInit,\n      saveUserEnd,\n      redirectSearch } = this.state;\n    return (\n      <div className=\"loginCont\" data-testid=\"page-login\">\n        <label htmlFor=\"login-name-input\">\n          <input\n            className=\"inputName\"\n            type=\"text\"\n            data-testid=\"login-name-input\"\n            id=\"login-name-input\"\n            value={ userInputName }\n            name=\"userInputName\"\n            onChange={ this.checkUserName }\n          />\n        </label>\n        <button\n          type=\"button\"\n          disabled={ isSaveButtonDisabled }\n          id=\"loginbutton\"\n          data-testid=\"login-submit-button\"\n          onClick={ this.handleClick }\n        >\n          Entrar\n        </button>\n        { saveUserInit && saveUserEnd && <Loading /> }\n        { redirectSearch && <Redirect to=\"/search\" /> }\n      </div>\n    );\n  }\n}\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,OAAO,aAAP;;AAEA,eAAe,MAAMC,KAAN,SAAoBJ,SAApB,CAA8B;EAC3CK,WAAW,GAAG;IACZ;;IADY,KAWdC,aAXc,GAWE,QAAgB;MAAA,IAAf;QAAEC;MAAF,CAAe;MAC9B,MAAM;QAAEC,IAAF;QAAQC;MAAR,IAAiBF,MAAvB;MACA,MAAMG,KAAK,GAAGD,IAAI,KAAK,UAAT,GAAsBF,MAAM,CAACI,OAA7B,GAAuCJ,MAAM,CAACG,KAA5D;MACA,KAAKE,QAAL,CAAc;QACZ,CAACJ,IAAD,GAAQE;MADI,CAAd,EAEG,MAAM;QACP,MAAM;UACJG;QADI,IACc,KAAKC,KADzB;QAEA,MAAMC,OAAO,GAAG,CAAhB;;QACA,IACEF,aAAa,CAACG,MAAd,IAAwBD,OAD1B,EACmC;UACjC,KAAKH,QAAL,CAAc;YACZK,oBAAoB,EAAE;UADV,CAAd;QAGD,CALD,MAKO;UACL,KAAKL,QAAL,CAAc;YACZK,oBAAoB,EAAE;UADV,CAAd;QAGD;MACF,CAhBD;IAiBD,CA/Ba;;IAAA,KAiCdC,WAjCc,GAiCA,MAAM;MAClB,KAAKN,QAAL,CAAc;QACZO,YAAY,EAAE;MADF,CAAd,EAEG,YAAY;QACb,MAAM;UAAEN;QAAF,IAAoB,KAAKC,KAA/B;QACA,MAAMX,UAAU,CAAC;UAAEK,IAAI,EAAEK;QAAR,CAAD,CAAhB;QACA,KAAKD,QAAL,CAAc;UACZQ,WAAW,EAAE,KADD;UAEZC,cAAc,EAAE;QAFJ,CAAd;MAID,CATD;IAUD,CA5Ca;;IAEZ,KAAKP,KAAL,GAAa;MACXD,aAAa,EAAE,EADJ;MAEXI,oBAAoB,EAAE,IAFX;MAGXE,YAAY,EAAE,KAHH;MAIXC,WAAW,EAAE,IAJF;MAKXC,cAAc,EAAE;IALL,CAAb;EAOD;;EAqCDC,MAAM,GAAG;IACP,MAAM;MACJT,aADI;MAEJI,oBAFI;MAGJE,YAHI;MAIJC,WAJI;MAKJC;IALI,IAKe,KAAKP,KAL1B;IAMA,oBACE;MAAK,SAAS,EAAC,WAAf;MAA2B,eAAY,YAAvC;MAAA,wBACE;QAAO,OAAO,EAAC,kBAAf;QAAA,uBACE;UACE,SAAS,EAAC,WADZ;UAEE,IAAI,EAAC,MAFP;UAGE,eAAY,kBAHd;UAIE,EAAE,EAAC,kBAJL;UAKE,KAAK,EAAGD,aALV;UAME,IAAI,EAAC,eANP;UAOE,QAAQ,EAAG,KAAKP;QAPlB;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAYE;QACE,IAAI,EAAC,QADP;QAEE,QAAQ,EAAGW,oBAFb;QAGE,EAAE,EAAC,aAHL;QAIE,eAAY,qBAJd;QAKE,OAAO,EAAG,KAAKC,WALjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAZF,EAqBIC,YAAY,IAAIC,WAAhB,iBAA+B,QAAC,OAAD;QAAA;QAAA;QAAA;MAAA,QArBnC,EAsBIC,cAAc,iBAAI,QAAC,QAAD;QAAU,EAAE,EAAC;MAAb;QAAA;QAAA;QAAA;MAAA,QAtBtB;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EA0BD;;AAhF0C"},"metadata":{},"sourceType":"module"}