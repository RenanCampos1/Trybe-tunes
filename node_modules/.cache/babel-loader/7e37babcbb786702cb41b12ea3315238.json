{"ast":null,"code":"var _jsxFileName = \"/home/renanc/Projetos/Trybe-tunes/src/pages/ProfileEdit.jsx\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ProfileEdit extends Component {\n  constructor() {\n    super();\n\n    this.validation = () => {\n      const {\n        name,\n        email,\n        description,\n        image\n      } = this.state;\n      const minAtrr = 3;\n\n      if (name.length > minAtrr && email.length > minAtrr && description.length > minAtrr && image.length > minAtrr) {\n        this.setState({\n          isDisabled: false\n        });\n      } else {\n        this.setState({\n          isDisabled: true\n        });\n      }\n    };\n\n    this.newDataInfo = _ref => {\n      let {\n        target\n      } = _ref;\n      this.setState({\n        [target.name]: target.value\n      }, this.validation);\n    };\n\n    this.handleSave = async () => {\n      this.setState({\n        loading: true\n      }, async () => {\n        const {\n          name,\n          image,\n          description,\n          email\n        } = this.state;\n        await updateUser({\n          name,\n          email,\n          description,\n          image\n        });\n        this.setState({\n          loading: false,\n          sendToProfilePage: true\n        });\n      });\n    };\n\n    this.state = {\n      loading: false,\n      isDisabled: true,\n      name: '',\n      email: '',\n      description: '',\n      image: '',\n      sendToProfilePage: false\n    };\n  }\n\n  componentDidMount() {\n    const infoProfile = async () => {\n      this.setState({\n        loading: true\n      });\n      const setUser = await getUser();\n      this.setState({\n        name: setUser.name,\n        email: setUser.email,\n        description: setUser.description,\n        image: setUser.image,\n        loading: false\n      }, this.validation);\n    };\n\n    infoProfile();\n  }\n\n  render() {\n    const {\n      name,\n      description,\n      email,\n      image,\n      loading,\n      isDisabled,\n      sendToProfilePage\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-profile-edit\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 23\n        }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              href: image,\n              alt: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              \"data-testid\": \"edit-input-image\",\n              name: \"image\",\n              type: \"text\",\n              value: image,\n              onChange: this.newDataInfo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Nome\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Fique \\xE0 vontade para usar seu nome social\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              \"data-testid\": \"edit-input-name\",\n              name: \"name\",\n              value: name,\n              type: \"text\",\n              onChange: this.newDataInfo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"E-Mail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Escolha um e-mail queconsulte diariamente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              \"data-testid\": \"edit-input-email\",\n              name: \"email\",\n              value: email,\n              type: \"text\",\n              onChange: this.newDataInfo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Descri\\xE7\\xE3o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Sobre mim\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              \"data-testid\": \"edit-input-description\",\n              name: \"description\",\n              value: description,\n              onChange: this.newDataInfo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"data-testid\": \"edit-button-save\",\n            onClick: this.handleSave,\n            disabled: isDisabled,\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), sendToProfilePage && /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","Redirect","Header","Loading","getUser","updateUser","ProfileEdit","constructor","validation","name","email","description","image","state","minAtrr","length","setState","isDisabled","newDataInfo","target","value","handleSave","loading","sendToProfilePage","componentDidMount","infoProfile","setUser","render"],"sources":["/home/renanc/Projetos/Trybe-tunes/src/pages/ProfileEdit.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\n\nexport default class ProfileEdit extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      isDisabled: true,\n      name: '',\n      email: '',\n      description: '',\n      image: '',\n      sendToProfilePage: false,\n    };\n  }\n\n  componentDidMount() {\n    const infoProfile = async () => {\n      this.setState({\n        loading: true,\n      });\n      const setUser = await getUser();\n      this.setState({\n        name: setUser.name,\n        email: setUser.email,\n        description: setUser.description,\n        image: setUser.image,\n        loading: false,\n      }, this.validation);\n    };\n    infoProfile();\n  }\n\n  validation = () => {\n    const {\n      name, email, description, image } = this.state;\n    const minAtrr = 3;\n    if (\n      name.length > minAtrr\n      && email.length > minAtrr\n      && description.length > minAtrr\n      && image.length > minAtrr) {\n      this.setState({\n        isDisabled: false,\n      });\n    } else {\n      this.setState({\n        isDisabled: true,\n      });\n    }\n  };\n\n  newDataInfo = ({ target }) => {\n    this.setState({\n      [target.name]: target.value,\n    }, this.validation);\n  };\n\n  handleSave = async () => {\n    this.setState({\n      loading: true,\n    }, async () => {\n      const { name, image, description, email } = this.state;\n      await updateUser({ name, email, description, image });\n      this.setState({\n        loading: false,\n        sendToProfilePage: true,\n      });\n    });\n  };\n\n  render() {\n    const {\n      name,\n      description,\n      email,\n      image,\n      loading,\n      isDisabled,\n      sendToProfilePage } = this.state;\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n        <div>\n          { loading ? <Loading /> : (\n            <form>\n              <div>\n                <img href={ image } alt={ name } />\n                <input\n                  data-testid=\"edit-input-image\"\n                  name=\"image\"\n                  type=\"text\"\n                  value={ image }\n                  onChange={ this.newDataInfo }\n                />\n              </div>\n              <div>\n                <h2>Nome</h2>\n                <h3>Fique à vontade para usar seu nome social</h3>\n                <input\n                  data-testid=\"edit-input-name\"\n                  name=\"name\"\n                  value={ name }\n                  type=\"text\"\n                  onChange={ this.newDataInfo }\n                />\n              </div>\n              <div>\n                <h2>E-Mail</h2>\n                <h3>Escolha um e-mail queconsulte diariamente</h3>\n                <input\n                  data-testid=\"edit-input-email\"\n                  name=\"email\"\n                  value={ email }\n                  type=\"text\"\n                  onChange={ this.newDataInfo }\n                />\n              </div>\n              <div>\n                <h2>Descrição</h2>\n                <h3>Sobre mim</h3>\n                <textarea\n                  data-testid=\"edit-input-description\"\n                  name=\"description\"\n                  value={ description }\n                  onChange={ this.newDataInfo }\n                />\n              </div>\n              <button\n                type=\"button\"\n                data-testid=\"edit-button-save\"\n                onClick={ this.handleSave }\n                disabled={ isDisabled }\n              >\n                Salvar\n              </button>\n            </form>\n          )}\n        </div>\n        { sendToProfilePage && <Redirect to=\"/profile\" />}\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}