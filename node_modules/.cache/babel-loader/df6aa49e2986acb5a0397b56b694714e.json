{"ast":null,"code":"const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\n\nconst saveUser = user => localStorage.setItem(USER_KEY, JSON.stringify(user)); // --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\n\nconst simulateRequest = response => callback => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise(resolve => {\n  let user = readUser();\n\n  if (user === null) {\n    user = {};\n  }\n\n  simulateRequest(user)(resolve);\n});\nexport const createUser = user => new Promise(resolve => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: ''\n  };\n  saveUser({ ...emptyUser,\n    ...user\n  });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\nexport const updateUser = updatedUser => new Promise(resolve => {\n  saveUser({ ...updatedUser\n  });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});","map":{"version":3,"names":["USER_KEY","TIMEOUT","SUCCESS_STATUS","readUser","JSON","parse","localStorage","getItem","saveUser","user","setItem","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","createUser","emptyUser","name","email","image","description","updateUser","updatedUser"],"sources":["/home/renanc/Projetos/Trybe-tunes/src/services/userAPI.js"],"sourcesContent":["const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,MAAjB;AACA,MAAMC,OAAO,GAAG,IAAhB;AACA,MAAMC,cAAc,GAAG,IAAvB;;AAEA,MAAMC,QAAQ,GAAG,MAAMC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBP,QAArB,CAAX,CAAvB;;AACA,MAAMQ,QAAQ,GAAIC,IAAD,IAAUH,YAAY,CAACI,OAAb,CAAqBV,QAArB,EAA+BI,IAAI,CAACO,SAAL,CAAeF,IAAf,CAA/B,CAA3B,C,CAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAMG,eAAe,GAAIC,QAAD,IAAeC,QAAD,IAAc;EAClDC,UAAU,CAAC,MAAM;IACfD,QAAQ,CAACD,QAAD,CAAR;EACD,CAFS,EAEPZ,OAFO,CAAV;AAGD,CAJD;;AAMA,OAAO,MAAMe,OAAO,GAAG,MAAM,IAAIC,OAAJ,CAAaC,OAAD,IAAa;EACpD,IAAIT,IAAI,GAAGN,QAAQ,EAAnB;;EACA,IAAIM,IAAI,KAAK,IAAb,EAAmB;IACjBA,IAAI,GAAG,EAAP;EACD;;EACDG,eAAe,CAACH,IAAD,CAAf,CAAsBS,OAAtB;AACD,CAN4B,CAAtB;AAQP,OAAO,MAAMC,UAAU,GAAIV,IAAD,IAAU,IAAIQ,OAAJ,CAAaC,OAAD,IAAa;EAC3D,MAAME,SAAS,GAAG;IAChBC,IAAI,EAAE,EADU;IAEhBC,KAAK,EAAE,EAFS;IAGhBC,KAAK,EAAE,EAHS;IAIhBC,WAAW,EAAE;EAJG,CAAlB;EAMAhB,QAAQ,CAAC,EAAE,GAAGY,SAAL;IAAgB,GAAGX;EAAnB,CAAD,CAAR;EACAG,eAAe,CAACV,cAAD,CAAf,CAAgCgB,OAAhC;AACD,CATmC,CAA7B;AAWP,OAAO,MAAMO,UAAU,GAAIC,WAAD,IAAiB,IAAIT,OAAJ,CAAaC,OAAD,IAAa;EAClEV,QAAQ,CAAC,EAAE,GAAGkB;EAAL,CAAD,CAAR;EACAd,eAAe,CAACV,cAAD,CAAf,CAAgCgB,OAAhC;AACD,CAH0C,CAApC"},"metadata":{},"sourceType":"module"}