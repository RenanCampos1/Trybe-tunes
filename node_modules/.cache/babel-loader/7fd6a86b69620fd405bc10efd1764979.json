{"ast":null,"code":"var _jsxFileName = \"/home/renanc/Projetos/Trybe-tunes/src/pages/Favorites.jsx\";\nimport React, { Component } from 'react';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport SongCard from '../components/SongCard';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\nimport './Favorite.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Favorites extends Component {\n  constructor() {\n    super();\n\n    this.getFavoritsList = async () => {\n      const listMusics = await getFavoriteSongs();\n      this.setState({\n        favorites: listMusics\n      });\n    };\n\n    this.state = {\n      loading: false,\n      favorites: []\n    };\n  }\n\n  componentDidMount() {\n    const getFavorites = async () => {\n      await this.getFavoritsList();\n    };\n\n    getFavorites();\n  }\n\n  removeFavorites(song) {\n    const remove = async item => {\n      this.setState({\n        loading: true\n      }, async () => {\n        await removeSong(item);\n        await this.getFavoritsList();\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    remove(song);\n  }\n\n  render() {\n    const {\n      loading,\n      favorites\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-favorites\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this) : favorites.map((song, index) => /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"favContainer\",\n        children: [/*#__PURE__*/_jsxDEV(SongCard, {\n          trackName: song.trackName,\n          previewUrl: song.previewUrl,\n          artworkUrl100: song.artworkUrl100\n        }, song.trackNumber, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: `${index}${song.trackName}`,\n          children: [\"Favorita\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: `${index}${song.trackName}`,\n            type: \"checkbox\",\n            \"data-testid\": `checkbox-music-${song.trackId}`,\n            onClick: () => this.removeFavorites(song),\n            defaultChecked: favorites.length > 0 && favorites.some(item => item.trackName === song.trackName)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)]\n      }, song.trackId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","Header","Loading","SongCard","getFavoriteSongs","removeSong","Favorites","constructor","getFavoritsList","listMusics","setState","favorites","state","loading","componentDidMount","getFavorites","removeFavorites","song","remove","item","render","map","index","trackName","previewUrl","artworkUrl100","trackNumber","trackId","length","some"],"sources":["/home/renanc/Projetos/Trybe-tunes/src/pages/Favorites.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport SongCard from '../components/SongCard';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\nimport './Favorite.css';\n\nexport default class Favorites extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      favorites: [],\n    };\n  }\n\n  componentDidMount() {\n    const getFavorites = async () => {\n      await this.getFavoritsList();\n    };\n    getFavorites();\n  }\n\n  getFavoritsList = async () => {\n    const listMusics = await getFavoriteSongs();\n    this.setState({\n      favorites: listMusics,\n    });\n  };\n\n  removeFavorites(song) {\n    const remove = async (item) => {\n      this.setState({\n        loading: true,\n      }, async () => {\n        await removeSong(item);\n        await this.getFavoritsList();\n        this.setState({\n          loading: false,\n        });\n      });\n    };\n    remove(song);\n  }\n\n  render() {\n    const { loading, favorites } = this.state;\n    return (\n      <div data-testid=\"page-favorites\">\n        <Header />\n        { loading ? <Loading /> : favorites.map((song, index) => (\n          <section className=\"favContainer\" key={ song.trackId }>\n            <SongCard\n              key={ song.trackNumber }\n              trackName={ song.trackName }\n              previewUrl={ song.previewUrl }\n              artworkUrl100={ song.artworkUrl100 }\n            />\n            <label htmlFor={ `${index}${song.trackName}` }>\n              Favorita\n              <input\n                id={ `${index}${song.trackName}` }\n                type=\"checkbox\"\n                data-testid={ `checkbox-music-${song.trackId}` }\n                onClick={ () => this.removeFavorites(song) }\n                defaultChecked={ favorites.length > 0 && (\n                  favorites.some((item) => item.trackName === song.trackName)\n                ) }\n              />\n            </label>\n          </section>\n        ))}\n      </div>\n    );\n  }\n}\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,SAASC,gBAAT,EAA2BC,UAA3B,QAA6C,8BAA7C;AACA,OAAO,gBAAP;;AAEA,eAAe,MAAMC,SAAN,SAAwBN,SAAxB,CAAkC;EAC/CO,WAAW,GAAG;IACZ;;IADY,KAedC,eAfc,GAeI,YAAY;MAC5B,MAAMC,UAAU,GAAG,MAAML,gBAAgB,EAAzC;MACA,KAAKM,QAAL,CAAc;QACZC,SAAS,EAAEF;MADC,CAAd;IAGD,CApBa;;IAEZ,KAAKG,KAAL,GAAa;MACXC,OAAO,EAAE,KADE;MAEXF,SAAS,EAAE;IAFA,CAAb;EAID;;EAEDG,iBAAiB,GAAG;IAClB,MAAMC,YAAY,GAAG,YAAY;MAC/B,MAAM,KAAKP,eAAL,EAAN;IACD,CAFD;;IAGAO,YAAY;EACb;;EASDC,eAAe,CAACC,IAAD,EAAO;IACpB,MAAMC,MAAM,GAAG,MAAOC,IAAP,IAAgB;MAC7B,KAAKT,QAAL,CAAc;QACZG,OAAO,EAAE;MADG,CAAd,EAEG,YAAY;QACb,MAAMR,UAAU,CAACc,IAAD,CAAhB;QACA,MAAM,KAAKX,eAAL,EAAN;QACA,KAAKE,QAAL,CAAc;UACZG,OAAO,EAAE;QADG,CAAd;MAGD,CARD;IASD,CAVD;;IAWAK,MAAM,CAACD,IAAD,CAAN;EACD;;EAEDG,MAAM,GAAG;IACP,MAAM;MAAEP,OAAF;MAAWF;IAAX,IAAyB,KAAKC,KAApC;IACA,oBACE;MAAK,eAAY,gBAAjB;MAAA,wBACE,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA,QADF,EAEIC,OAAO,gBAAG,QAAC,OAAD;QAAA;QAAA;QAAA;MAAA,QAAH,GAAiBF,SAAS,CAACU,GAAV,CAAc,CAACJ,IAAD,EAAOK,KAAP,kBACtC;QAAS,SAAS,EAAC,cAAnB;QAAA,wBACE,QAAC,QAAD;UAEE,SAAS,EAAGL,IAAI,CAACM,SAFnB;UAGE,UAAU,EAAGN,IAAI,CAACO,UAHpB;UAIE,aAAa,EAAGP,IAAI,CAACQ;QAJvB,GACQR,IAAI,CAACS,WADb;UAAA;UAAA;UAAA;QAAA,QADF,eAOE;UAAO,OAAO,EAAI,GAAEJ,KAAM,GAAEL,IAAI,CAACM,SAAU,EAA3C;UAAA,oCAEE;YACE,EAAE,EAAI,GAAED,KAAM,GAAEL,IAAI,CAACM,SAAU,EADjC;YAEE,IAAI,EAAC,UAFP;YAGE,eAAe,kBAAiBN,IAAI,CAACU,OAAQ,EAH/C;YAIE,OAAO,EAAG,MAAM,KAAKX,eAAL,CAAqBC,IAArB,CAJlB;YAKE,cAAc,EAAGN,SAAS,CAACiB,MAAV,GAAmB,CAAnB,IACfjB,SAAS,CAACkB,IAAV,CAAgBV,IAAD,IAAUA,IAAI,CAACI,SAAL,KAAmBN,IAAI,CAACM,SAAjD;UANJ;YAAA;YAAA;YAAA;UAAA,QAFF;QAAA;UAAA;UAAA;UAAA;QAAA,QAPF;MAAA,GAAwCN,IAAI,CAACU,OAA7C;QAAA;QAAA;QAAA;MAAA,QADwB,CAF5B;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EA2BD;;AAnE8C"},"metadata":{},"sourceType":"module"}