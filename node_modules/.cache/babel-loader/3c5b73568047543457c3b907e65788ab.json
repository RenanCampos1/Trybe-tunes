{"ast":null,"code":"var _jsxFileName = \"/home/renanc/Projetos/Trybe-tunes/src/pages/Search.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport './Search.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Search extends Component {\n  constructor() {\n    super();\n\n    this.checkUserName = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        type\n      } = target;\n      const value = type === 'checkbox' ? target.checked : target.value;\n      this.setState({\n        [name]: value\n      }, () => {\n        const {\n          userInputArtist\n        } = this.state;\n        const minAtrr = 2;\n\n        if (userInputArtist.length >= minAtrr) {\n          this.setState({\n            isSaveButtonDisabled: false\n          });\n        } else {\n          this.setState({\n            isSaveButtonDisabled: true\n          });\n        }\n      });\n    };\n\n    this.handleClick = async () => {\n      const {\n        userInputArtist\n      } = this.state;\n      const copyUserInputName = userInputArtist;\n      this.setState({\n        userInputArtist: '',\n        loading: true\n      }, async () => {\n        const searchUser = await searchAlbumsAPI(userInputArtist);\n        this.setState({\n          loading: false,\n          copyname: copyUserInputName,\n          result: searchUser\n        });\n      });\n    };\n\n    this.state = {\n      userInputArtist: '',\n      isSaveButtonDisabled: true,\n      loading: false,\n      result: [],\n      copyname: ''\n    };\n  }\n\n  render() {\n    const {\n      userInputArtist,\n      isSaveButtonDisabled,\n      loading,\n      copyname,\n      result\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), loading === true ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"search-artist-input\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"inputSearch\",\n            type: \"text\",\n            \"data-testid\": \"search-artist-input\",\n            value: userInputArtist,\n            name: \"userInputArtist\",\n            onChange: this.checkUserName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buttonSearch\",\n          type: \"button\",\n          disabled: isSaveButtonDisabled,\n          \"data-testid\": \"search-artist-button\",\n          onClick: this.handleClick,\n          children: \"Pesquisar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: result.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cardContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"results\",\n            children: `Resultado de álbuns de: ${copyname}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), result.map((element, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cards\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: element.artworkUrl100,\n              alt: element.artistName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: `Álbum ${element.trackCount} ${element.collectionName}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: `Artista ${element.artistName}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              \"data-testid\": `link-to-album-${element.collectionId}`,\n              to: `/album/${element.collectionId}`,\n              children: \"Album\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 21\n            }, this)]\n          }, `${element.artistId}${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"notFound\",\n          children: \"Nenhum \\xE1lbum foi encontrado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","Link","Header","Loading","searchAlbumsAPI","Search","constructor","checkUserName","target","name","type","value","checked","setState","userInputArtist","state","minAtrr","length","isSaveButtonDisabled","handleClick","copyUserInputName","loading","searchUser","copyname","result","render","map","element","index","artworkUrl100","artistName","trackCount","collectionName","collectionId","artistId"],"sources":["/home/renanc/Projetos/Trybe-tunes/src/pages/Search.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport './Search.css';\n\nexport default class Search extends Component {\n  constructor() {\n    super();\n    this.state = {\n      userInputArtist: '',\n      isSaveButtonDisabled: true,\n      loading: false,\n      result: [],\n      copyname: '',\n    };\n  }\n\n  checkUserName = ({ target }) => {\n    const { name, type } = target;\n    const value = type === 'checkbox' ? target.checked : target.value;\n    this.setState({\n      [name]: value,\n    }, () => {\n      const {\n        userInputArtist } = this.state;\n      const minAtrr = 2;\n      if (\n        userInputArtist.length >= minAtrr) {\n        this.setState({\n          isSaveButtonDisabled: false,\n        });\n      } else {\n        this.setState({\n          isSaveButtonDisabled: true,\n        });\n      }\n    });\n  };\n\n  handleClick = async () => {\n    const { userInputArtist } = this.state;\n    const copyUserInputName = userInputArtist;\n    this.setState({\n      userInputArtist: '',\n      loading: true }, async () => {\n      const searchUser = await searchAlbumsAPI(userInputArtist);\n      this.setState({\n        loading: false,\n        copyname: copyUserInputName,\n        result: searchUser,\n      });\n    });\n  };\n\n  render() {\n    const {\n      userInputArtist,\n      isSaveButtonDisabled,\n      loading,\n      copyname,\n      result } = this.state;\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n        { loading === true ? (\n          <Loading />\n        ) : (\n          <div className=\"search\">\n            <label htmlFor=\"search-artist-input\">\n              <input\n                className=\"inputSearch\"\n                type=\"text\"\n                data-testid=\"search-artist-input\"\n                value={ userInputArtist }\n                name=\"userInputArtist\"\n                onChange={ this.checkUserName }\n              />\n            </label>\n            <button\n              className=\"buttonSearch\"\n              type=\"button\"\n              disabled={ isSaveButtonDisabled }\n              data-testid=\"search-artist-button\"\n              onClick={ this.handleClick }\n            >\n              Pesquisar\n            </button>\n          </div>\n        ) }\n        <div>\n          { result.length > 0 ? (\n            <div className=\"cardContainer\">\n              <p className=\"results\">{`Resultado de álbuns de: ${copyname}`}</p>\n              {\n                result.map((element, index) => (\n                  <div className=\"cards\" key={ `${element.artistId}${index}` }>\n                    <img src={ element.artworkUrl100 } alt={ element.artistName } />\n                    <p>{`Álbum ${element.trackCount} ${element.collectionName}`}</p>\n                    <p>{`Artista ${element.artistName}`}</p>\n                    <Link\n                      data-testid={ `link-to-album-${element.collectionId}` }\n                      to={ `/album/${element.collectionId}` }\n                    >\n                      Album\n                    </Link>\n                  </div>\n                ))\n              }\n            </div>)\n            : (\n              <p className=\"notFound\">Nenhum álbum foi encontrado</p>)}\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}